

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>bbs_build &mdash; BDE Build Tools  documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/bde.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="bbs_make_vscode" href="bbs_make_vscode.html" />
    <link rel="prev" title="bbs_build_env" href="bbs_build_env.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> BDE Build Tools
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Bde Build System</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../general_info/requirements.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general_info/installation.html">Installation And Configuration</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">How-To</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../howtos/build_bde_basic.html">Setup and Build BDE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howtos/build_single_target.html">Build a Single Package or Component</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howtos/build_workspace.html">Build Multiple Projects in a Workspace</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howtos/create_library.html">Create a Library or Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howtos/configure_profile.html">Add a Custom Compiler Profile</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howtos/build_instrumented.html">Build Using A Sanitizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howtos/build_different_compiler.html">Use a Non-Standard Compiler or Build Option</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../reference/overview.html">BBS Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/bde_repo_layout.html">BDE-Style Repository</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/bbs_build_configuration.html">Build Configuration Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/code_generation.html">Code Generation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/bbs_compiler_profile.html">Compiler Profiles</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tools</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="bbs_build_env.html">bbs_build_env</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">bbs_build</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#command-line">Command line</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#commands">Commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="#common-parameters">Common parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#parameters-for-configure-command">Parameters for configure command</a></li>
<li class="toctree-l3"><a class="reference internal" href="#parameters-for-build-command">Parameters for build command</a></li>
<li class="toctree-l3"><a class="reference internal" href="#parameters-for-install-command">Parameters for install command</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="bbs_make_vscode.html">bbs_make_vscode</a></li>
<li class="toctree-l1"><a class="reference internal" href="sim_cpp11_features.html">sim_cpp11_features.pl</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">BDE Build Tools</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>bbs_build</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="bbs_make_vscode.html" class="btn btn-neutral float-right" title="bbs_make_vscode" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
      
      
        <a href="bbs_build_env.html" class="btn btn-neutral float-left" title="bbs_build_env" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="bbs-build">
<span id="bbs-build-top"></span><h1>bbs_build<a class="headerlink" href="#bbs-build" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">bbs_build</span></code> is a wrapper script that simplifies invocation of the <code class="docutils literal notranslate"><span class="pre">cmake</span></code>
and provides simple command line interface to the BBS build system.</p>
<p>More specifically, the tool handles the following aspects of the build process:</p>
<ol class="arabic simple">
<li><p>Creates/selects the build directory for current build configuration.</p></li>
<li><p>Selects the compiler and sets up arguments passed to the compiler.</p></li>
<li><p>Sets a compiler configuration under Windows OS.</p></li>
<li><p>Sets/passes necesssary parameters to the <code class="docutils literal notranslate"><span class="pre">cmake</span></code>.</p></li>
</ol>
<p><code class="docutils literal notranslate"><span class="pre">bbs_build</span></code> knowns the environment variables set by the
<a class="reference internal" href="bbs_build_env.html#bbs-build-env-top"><span class="std std-ref">bbs_build_env</span></a> and will pick up those parameters
from the environment if they are not specified in the command line.</p>
</div>
<div class="section" id="command-line">
<h2>Command line<a class="headerlink" href="#command-line" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The code samples below assume that the path to the <code class="docutils literal notranslate"><span class="pre">bbs_build</span></code> script
is added to the <code class="docutils literal notranslate"><span class="pre">PATH</span></code> environment variable.</p>
</div>
<p>Full set of supported parameters can be listed by running:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bbs_build</span> <span class="o">--</span><span class="n">help</span>
</pre></div>
</div>
<div class="section" id="commands">
<h3>Commands<a class="headerlink" href="#commands" title="Permalink to this headline">¶</a></h3>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-configure">
<span class="sig-name descname"><span class="pre">configure</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-arg-configure" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform Cmake configuration step. During this step the build directory is
created and low-level build system make files are generated.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-build">
<span class="sig-name descname"><span class="pre">build</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-arg-build" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform build step. During this step the BDE libraries and (optionally) test
drivers are compiled, linked and (optionally) test drivers are executed.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-install">
<span class="sig-name descname"><span class="pre">install</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-arg-install" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform installation step. During this step the build artefacts are
installed into user specified location.</p>
</dd></dl>

</div>
<div class="section" id="common-parameters">
<h3>Common parameters<a class="headerlink" href="#common-parameters" title="Permalink to this headline">¶</a></h3>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-build_dir">
<span id="cmdoption-build-dir"></span><span class="sig-name descname"><span class="pre">--build_dir</span></span><span class="sig-prename descclassname"> <span class="pre">BUILD_DIR</span></span><a class="headerlink" href="#cmdoption-build_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to the build directory.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the parameter is not specfied, the value is taken from the
<code class="docutils literal notranslate"><span class="pre">BDE_CMAKE_BUILD_DIR</span></code> environment variable. If environment variable is
not set, the build system generates the name using the current platform,
compiler, and ufid. The generated build directory looks like:
<code class="docutils literal notranslate"><span class="pre">./_build/unix-linux-x86_64-2.6.32-gcc-5.4.0-opt_exc_mt_cpp11</span></code></p>
</div>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-j">
<span id="cmdoption-jobs"></span><span class="sig-name descname"><span class="pre">-j</span></span><span class="sig-prename descclassname"> <span class="pre">N</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--jobs</span></span><span class="sig-prename descclassname"> <span class="pre">N</span></span><a class="headerlink" href="#cmdoption-j" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify number of jobs to run in parallel.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-v">
<span id="cmdoption-verbose"></span><span class="sig-name descname"><span class="pre">-v</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--verbose</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-v" title="Permalink to this definition">¶</a></dt>
<dd><p>Produce verbose output.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-h">
<span id="cmdoption-help"></span><span class="sig-name descname"><span class="pre">-h</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--help</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-h" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the help page.</p>
</dd></dl>

</div>
<div class="section" id="parameters-for-configure-command">
<h3>Parameters for configure command<a class="headerlink" href="#parameters-for-configure-command" title="Permalink to this headline">¶</a></h3>
<p>Those parameters are used by <code class="docutils literal notranslate"><span class="pre">configure</span></code> command.</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-u">
<span id="cmdoption-ufid"></span><span class="sig-name descname"><span class="pre">-u</span></span><span class="sig-prename descclassname"> <span class="pre">UFID</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--ufid</span></span><span class="sig-prename descclassname"> <span class="pre">UFID</span></span><a class="headerlink" href="#cmdoption-u" title="Permalink to this definition">¶</a></dt>
<dd><p>Unified Flag IDentifier (e.g. “opt_64_cpp17”).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the parameter is not specified, the value is taken from the
<code class="docutils literal notranslate"><span class="pre">BDE_CMAKE_UFID</span></code> environment variable.</p>
</div>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-G">
<span id="cmdoption-g"></span><span class="sig-name descname"><span class="pre">-G</span></span><span class="sig-prename descclassname"> <span class="pre">GENERATOR</span></span><a class="headerlink" href="#cmdoption-G" title="Permalink to this definition">¶</a></dt>
<dd><p>Select the build system for compilation.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the parameter is not specified, the script will choose the
low-level build system (default is <code class="docutils literal notranslate"><span class="pre">ninja</span></code>).</p>
</div>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-toolchain">
<span class="sig-name descname"><span class="pre">--toolchain</span></span><span class="sig-prename descclassname"> <span class="pre">TOOLCHAIN</span></span><a class="headerlink" href="#cmdoption-toolchain" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to the CMake toolchain file. See <a class="reference external" href="https://cmake.org/cmake/help/v3.10/manual/cmake-toolchains.7.html">CMake Toolchains</a> for
more details on the format of the Cmake toolchain file.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the parameter is not specified, the script will try to find the
generic compiler toolchain file or use the CMake defaults, if no
toolchain file is found.</p>
</div>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-compiler">
<span class="sig-name descname"><span class="pre">--compiler</span></span><span class="sig-prename descclassname"> <span class="pre">COMPILER</span></span><a class="headerlink" href="#cmdoption-compiler" title="Permalink to this definition">¶</a></dt>
<dd><p>Specifies the compiler (Windows only). Currently supported compilers are:
<code class="docutils literal notranslate"><span class="pre">msvc-2019</span></code>, <code class="docutils literal notranslate"><span class="pre">msvc-2017</span></code>, <code class="docutils literal notranslate"><span class="pre">msvc-2015</span></code>, and <code class="docutils literal notranslate"><span class="pre">msvc-2013</span></code>. Latest
detected version will be set as a default.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-refroot">
<span class="sig-name descname"><span class="pre">--refroot</span></span><span class="sig-prename descclassname"> <span class="pre">REFROOT</span></span><a class="headerlink" href="#cmdoption-refroot" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to the distribution refroot.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the parameter is not specified, the value is taken from the
<code class="docutils literal notranslate"><span class="pre">DISTRIBUTION_REFROOT</span></code> environment variable.</p>
</div>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-prefix">
<span class="sig-name descname"><span class="pre">--prefix</span></span><span class="sig-prename descclassname"> <span class="pre">PREFIX</span></span><a class="headerlink" href="#cmdoption-prefix" title="Permalink to this definition">¶</a></dt>
<dd><p>The path prefix in which to look for dependencies for this buils. If
<code class="docutils literal notranslate"><span class="pre">--refroot</span></code> is specified, this prefix is relative to the refroot
(default=”/opt/bb”).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This parameter also defines the installation prefix for install
command.</p>
</div>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-clean">
<span class="sig-name descname"><span class="pre">--clean</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-clean" title="Permalink to this definition">¶</a></dt>
<dd><p>Clean the specified build directory before configuration.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Compiler-specific configuration is generated only on initial
configuration and cached by the build system. User must use
empty (clean) build directory when switching compilers.</p>
</div>
</dd></dl>

</div>
<div class="section" id="parameters-for-build-command">
<h3>Parameters for build command<a class="headerlink" href="#parameters-for-build-command" title="Permalink to this headline">¶</a></h3>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-targets">
<span class="sig-name descname"><span class="pre">--targets</span></span><span class="sig-prename descclassname"> <span class="pre">TARGET_LIST</span></span><a class="headerlink" href="#cmdoption-targets" title="Permalink to this definition">¶</a></dt>
<dd><p>Specifies the list of comma separated build targets. There are targets for
package groups (bsl/bsl.t), packages (bdlt/bdlt.t) and individual components
(ball_log/ball_log.t) and well as high-level target for building everything
(all/all.t)</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-test">
<span id="cmdoption-arg-run"></span><span class="sig-name descname"><span class="pre">--test</span></span><span class="sig-prename descclassname"> <span class="pre">{build</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">run}</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-test" title="Permalink to this definition">¶</a></dt>
<dd><p>Selects whether to build or run the tests. Tests are not built by default.
build step.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-timeout">
<span class="sig-name descname"><span class="pre">--timeout</span></span><span class="sig-prename descclassname"> <span class="pre">TIMEOUT</span></span><a class="headerlink" href="#cmdoption-timeout" title="Permalink to this definition">¶</a></dt>
<dd><p>Specifies the maximum time to run a single test driver. The test driver is
terminated if it does not complete within the specified timeout (in
seconds).</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-k">
<span id="cmdoption-keep-going"></span><span class="sig-name descname"><span class="pre">-k</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--keep-going</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-k" title="Permalink to this definition">¶</a></dt>
<dd><p>Continues as much as possible after an error.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Supported by ‘ninja’ and ‘make’ build systems.</p>
</div>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-xml-report">
<span class="sig-name descname"><span class="pre">--xml-report</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-xml-report" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate xml report when running tests. Reports can be found in the
<code class="docutils literal notranslate"><span class="pre">&lt;build_dir&gt;/Testing</span></code> folder.</p>
</dd></dl>

</div>
<div class="section" id="parameters-for-install-command">
<h3>Parameters for install command<a class="headerlink" href="#parameters-for-install-command" title="Permalink to this headline">¶</a></h3>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-component">
<span class="sig-name descname"><span class="pre">--component</span></span><span class="sig-prename descclassname"> <span class="pre">COMPONENT</span></span><a class="headerlink" href="#cmdoption-component" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the component to install. This flag should be used only by the
builds helper that do BDE library packaging. When not specified, the command
installs headers and libraries for all UORs defined in the repo.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-install_dir">
<span id="cmdoption-install-dir"></span><span class="sig-name descname"><span class="pre">--install_dir</span></span><span class="sig-prename descclassname"> <span class="pre">INSTALL_DIR</span></span><a class="headerlink" href="#cmdoption-install_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to the top level installation directory.</p>
</dd></dl>

</div>
</div>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2022, Bloomberg Finance L.P..

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>