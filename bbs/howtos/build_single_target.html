

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Build a Single Package or Component &mdash; BDE Build Tools  documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/bde.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Build Multiple Projects in a Workspace" href="build_workspace.html" />
    <link rel="prev" title="Setup and Build BDE" href="build_bde_basic.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> BDE Build Tools
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Bde Build System</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../general_info/requirements.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general_info/installation.html">Installation And Configuration</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">How-To</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="build_bde_basic.html">Setup and Build BDE</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Build a Single Package or Component</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#general-workflow">General workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="#optimized-workflow">Optimized workflow</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="build_workspace.html">Build Multiple Projects in a Workspace</a></li>
<li class="toctree-l1"><a class="reference internal" href="create_library.html">Create a Library or Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="configure_profile.html">Add a Custom Compiler Profile</a></li>
<li class="toctree-l1"><a class="reference internal" href="build_instrumented.html">Build Using A Sanitizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="build_different_compiler.html">Use a Non-Standard Compiler or Build Option</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../reference/overview.html">BBS Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/bde_repo_layout.html">BDE-Style Repository</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/bbs_build_configuration.html">Build Configuration Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/code_generation.html">Code Generation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/bbs_compiler_profile.html">Compiler Profiles</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tools</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tools/bbs_build_env.html">bbs_build_env</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/bbs_build.html">bbs_build</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/bbs_make_vscode.html">bbs_make_vscode</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/sim_cpp11_features.html">sim_cpp11_features.pl</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">BDE Build Tools</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Build a Single Package or Component</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="build_workspace.html" class="btn btn-neutral float-right" title="Build Multiple Projects in a Workspace" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
      
      
        <a href="build_bde_basic.html" class="btn btn-neutral float-left" title="Setup and Build BDE" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="build-a-single-package-or-component">
<span id="bbs-build-single-target-top"></span><h1>Build a Single Package or Component<a class="headerlink" href="#build-a-single-package-or-component" title="Permalink to this headline">¶</a></h1>
<p>This build mode in intended for developers who are modifying a single
component or group of components.</p>
<div class="section" id="general-workflow">
<h2>General workflow<a class="headerlink" href="#general-workflow" title="Permalink to this headline">¶</a></h2>
<p>After <a class="reference internal" href="build_bde_basic.html"><span class="doc">setting up the build environment</span></a>, you can
configure the library with a simple:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ bbs_build configure
</pre></div>
</div>
<p>This command will generate build target for <strong>all</strong> libraries and <strong>all</strong> test
drivers in the current build repository or workspace.</p>
<ul>
<li><p>To build (only) an individual target, you should specify the name of the
target in the build command:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ bbs_build build --target bsls  <span class="c1"># Build bsls package library</span>
$ bbs_build build --target bal   <span class="c1"># Build bal package group library</span>

$ bbs_build build --target all.t  <span class="c1"># Build all test drivers</span>
$ bbs_build build --test build    <span class="c1"># Build all test drivers</span>

$ bbs_build build --target bslmt.t             <span class="c1"># Build test drivers for bslmt package</span>
$ bbs_build build --target bslmt --test build  <span class="c1"># Build test drivers for bslmt package</span>
</pre></div>
</div>
</li>
<li><p>To build and run test drivers:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ bbs_build build --test run    <span class="c1"># Build and run all test drivers</span>

$ bbs_build build --target bslmt --test run  <span class="c1"># Build and run test drivers for bslmt package</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="optimized-workflow">
<h2>Optimized workflow<a class="headerlink" href="#optimized-workflow" title="Permalink to this headline">¶</a></h2>
<p>When working on a single component, we want to minimize the number of the
targets generated by CMake by filtering out unused tests targets.  This can
significantly reduce the configuration, dependency check and build time of the
underlying build system.</p>
<ul>
<li><p>Specify the regex for the component you want to have test drivers
(<code class="docutils literal notranslate"><span class="pre">bsls_platform</span></code> in the example below):</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ bbs_build configure --regex <span class="s2">&quot;bsls_platform</span>$<span class="s2">&quot;</span>
</pre></div>
</div>
<p>In a similar fashion you can provide a regex to enable tests for the whole
package or even package groups:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ bbs_build configure --regex <span class="s2">&quot;bsls&quot;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Misspeling regex can lead to the test driver set to be empty.</p>
</div>
</li>
<li><p>Building and running test drivers is done with the following commands:</p>
<p>This command builds <strong>all</strong> library targets, but only links and executes
the tests matching the regex supplied at the <code class="docutils literal notranslate"><span class="pre">configure</span></code> step.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ bbs_build build --tests run
</pre></div>
</div>
<p>This command builds only direct dependencies of the <code class="docutils literal notranslate"><span class="pre">bsls_platform</span></code> test
driver (and thus is much faster than the command above):</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ bbs_build build --target bsls_platform.t --tests run
</pre></div>
</div>
<p>This command builds only direct dependencies of the tests in <code class="docutils literal notranslate"><span class="pre">bsls</span></code>
package. For the regex <code class="docutils literal notranslate"><span class="pre">bsls_platform$</span></code> it also runs a single test
driver:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ bbs_build build --target bsls.t --tests run
</pre></div>
</div>
</li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2022, Bloomberg Finance L.P..

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>